Сделать реализацию для SharedState и фиксированного числа процессоров
посмотреть, что общего у неё с BSPM.Engine.Local
